#+TITLE: rclip-client README

* What is this?

This is the command-line client and it's been tested under Linux and MacOs.

* What is required?

- *Operating System*: Linux, MacOS. Minimal testing for Windows so far and pending checks for BSD distributions.
- *Build Tools*: A rust compiler and the cargo build tool
- *Tools and Libraries under Linux*: curl, pango-dev, cairo-dev, libXcursor-dev (TBD update this list...)

* How to build this?

** MacOS, Linux and Windows

#+begin_src sh
  cargo build
#+end_src

** FreeBSD, NetBSD and OpenBSD

The GUI is not available for BSD operating systems (FLTK UI toolkit compilation issues).

#+begin_src sh
  cargo build --bin rclip-client-cli
#+end_src

* How to run this?

Please refer to the top level folder for desktop or command-line screenshots.

** Desktop user interface

*This merely exists for very occasional usage under MacOS, where I do not run a tiling window manager*.
The ideal workflow is interacting with the command-line version via keyboard shortcuts.

[[./images/screenshot_gui.png]]

** Command-line user interface

*** Display help

#+begin_src sh
./target/debug/rclip-client-cli --help
#+end_src

*** Read contents from the clipboard server

*Under Linux, an auxiliary program is required* to ensure that the clipboard contents are persisted after the command-line program exists ([[https://linux.die.net/man/1/xclip][xclip]], [[https://linux.die.net/man/1/xsel][xsel]], etc.).
- For Linux and BSD, the auxiliary program *must be wrapped* into a script that accepts the clipboard contents as *single argument*. The same might be required under other operating systems running xorg/x11 but this hasn't been tested yet
- On MacOS, even when the command-line app terminates, the clipboard isn't cleared

  For sample wrapper scripts under Linux or BSD, [[https://github.com/yveszoundi/vms-setup/tree/master/skeletons/.config/clipboard][please checkout this link]].: the =--clipboard-program= optional parameter value is set to a wrapper around =xclip=.

*** Write contents to the clipboard server

**** With specific text

#+begin_src sh
  ./target/debug/rclip-client-cli --command WRITE --text new_clipboard_contents
#+end_src

**** With data from the clipboard

For sample wrapper scripts under Linux or BSD, [[https://github.com/yveszoundi/vms-setup/tree/master/skeletons/.config/clipboard][please checkout this link]].: the =--clipboard-program= optional parameter value is set to a wrapper around =xclip=.

